<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wrecked: MÃ¼zik Karnesi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>

<body>
    <div class="noise-overlay"></div>



    <!-- BRANDING HEADER -->
    <header class="app-header">
        <div class="logo-container">
            <div class="wrecked-logo-img-container">
                <img src="logo_final.png" alt="Wrecked Logo" class="wrecked-logo-img">
            </div>
            <div class="brand-wrapper">
                <div class="brand-sub">Mustify</div>
                <h1 class="brand-name">Wrecked</h1>
            </div>
        </div>
        <button id="btn-lang" class="lang-btn">TR | EN</button>
    </header>

    <!-- SCREEN 1: LOGIN -->
    <div id="screen-login" class="screen active-screen">
        <h1 class="big-title">MÃ¼zik Zevkin<br>MahvolmuÅŸ</h1>
        <p class="subtitle">Bu yÄ±l kulaklarÄ±na neler yaptÄ±ÄŸÄ±nÄ± gÃ¶rmeye hazÄ±r mÄ±sÄ±n?</p>
        <button id="btn-login" class="btn-primary">Spotify ile YÃ¼zleÅŸ</button>
    </div>

    <!-- SCREEN 2: WELCOME -->
    <div id="screen-welcome" class="screen">
        <div class="loader-box">
            <h2>UtanÃ§ verici verilerin<br>indiriliyor...</h2>
            <div class="spinner"></div>
            <button id="btn-start" class="btn-primary" style="margin-top:20px">YÄ±kÄ±mÄ± BaÅŸlat</button>
        </div>
    </div>

    <!-- SCREENS 3-5: LISTS -->
    <div id="screen-songs" class="screen">
        <h2>ðŸŽ§ Kulak KanamasÄ± Sebepleri</h2>
        <div id="list-songs" class="list-container"></div>
        <div class="nav-row">
            <button class="btn-secondary" onclick="showScreen('screen-welcome')">â¬…</button>
            <button id="btn-next-albums" class="btn-nav">ðŸ’¿ SuÃ§ OrtaklarÄ± âž¡</button>
        </div>
    </div>

    <div id="screen-albums" class="screen">
        <h2>ðŸ’¿ Plak ZiyanÄ±</h2>
        <div id="list-albums" class="list-container"></div>
        <div class="nav-row">
            <button class="btn-secondary" onclick="showScreen('screen-songs')">â¬…</button>
            <button id="btn-next-artists" class="btn-nav">ðŸŽ¤ Tarikat Liderlerin âž¡</button>
        </div>
    </div>

    <div id="screen-artists" class="screen">
        <h2>ðŸŽ¤ Tarikat Liderlerin</h2>
        <div id="list-artists" class="list-container"></div>
        <div class="nav-row">
            <button class="btn-secondary" onclick="showScreen('screen-albums')">â¬…</button>
            <button id="btn-next-genres" class="btn-nav">ðŸŽ¹ TÃ¼r KarmaÅŸasÄ± âž¡</button>
        </div>
    </div>

    <div id="screen-genres" class="screen">
        <h2>ðŸŽ¹ TÃ¼r KarmaÅŸasÄ±</h2>
        <div id="list-genres" class="list-container"></div>
        <div class="nav-row">
            <button class="btn-secondary" onclick="showScreen('screen-artists')">â¬…</button>
            <button id="btn-next-stats" class="btn-nav">ðŸ“Š Hasar Raporu âž¡</button>
        </div>
    </div>

    <!-- SCREEN 6: STATS -->
    <div id="screen-stats" class="screen">
        <h2 class="section-title">Hasar Raporu</h2>
        <div class="bento-grid">
            <!-- Row 1: Era & City -->
            <div class="bento-box box-large era-box">
                <h3>Ruh YaÅŸÄ±n</h3>
                <p id="stat-era">...</p>
            </div>
            <div class="bento-box box-medium city-box">
                <h3>Ruh Åžehri</h3>
                <p id="stat-city">...</p>
            </div>

            <!-- Row 2: Score & Genre -->
            <div class="bento-box box-medium score-box">
                <h3>Banal Skoru</h3>
                <div class="progress-bar">
                    <div id="stat-mainstream-bar" style="width:0%; background:var(--wrecked-yellow); height:100%">
                    </div>
                </div>
                <p id="stat-mainstream-val">0%</p>
            </div>
            <div class="bento-box box-medium top-genre-box">
                <h3>Favori TÃ¼r</h3>
                <p id="stat-top-genre">...</p>
            </div>

            <!-- Row 3: Toxic (Full Width) -->
            <div class="bento-box box-large trait-box">
                <h3>Toksik Ã–zellik</h3>
                <p id="stat-toxic">...</p>
            </div>

            <!-- Row 4: Counts -->
            <div class="bento-box box-small artist-box">
                <h3>FarklÄ± SanatÃ§Ä±</h3>
                <p id="stat-artist-count">0</p>
            </div>
            <div class="bento-box box-small genre-box">
                <h3>KeÅŸfedilen TÃ¼r</h3>
                <p id="stat-genre-count">0</p>
            </div>
        </div>
        <div class="nav-row">
            <button class="btn-secondary" onclick="showScreen('screen-genres')">â¬…</button>
            <button id="btn-next-persona" class="btn-nav pulse-btn">ðŸ”® FalÄ±na Bak âž¡</button>
        </div>
    </div>

    <!-- SCREEN 9: FINAL (Kaza Raporu) -->
    <div id="screen-final" class="screen">
        <h2>Kaza Raporu</h2>

        <div id="final-summary-card" class="share-layout visible-card"
            style="border: 1px solid #333; box-shadow: 0 0 20px rgba(46, 204, 113, 0.2);">
            <!-- 1. HEADER: Centered Logo & Title -->
            <div class="share-header" style="flex-direction:column; gap:10px; margin-bottom: 20px; text-align:center;">
                <div style="display:flex; align-items:center; gap:8px;">
                    <div class="wrecked-logo-img-container small"
                        style="width:40px; height:40px; border:none; background:transparent;">
                        <img src="logo_final.png" alt="W" class="wrecked-logo-img" style="border-radius:50%;">
                    </div>
                    <h1 style="font-size:1.2em; margin:0; letter-spacing:1px; font-weight:800;">WRECKED</h1>
                </div>
                <h2 id="final-archetype-title"
                    style="font-size:1.8em; margin:0; text-transform:uppercase; color:var(--wrecked-green); text-shadow:0 0 15px rgba(46,204,113,0.5); line-height:1;">
                    ...</h2>
            </div>

            <div class="share-content">
                <!-- 2. HERO: Sticker Image + Quote Text -->
                <div class="final-hero-row"
                    style="background:transparent; padding:0; border:none; margin-bottom:20px; align-items:flex-start;">
                    <img id="final-hero-img" src="" class="final-hero-img" crossorigin="anonymous"
                        style="width:100px; height:100px; transform:rotate(-6deg); margin-right:15px; border:3px solid #fff; box-shadow: 5px 5px 15px rgba(0,0,0,0.5);">
                    <div id="final-story-text" class="final-hero-text"
                        style="font-size:0.85em; color:#eee; font-style:italic; font-weight:500; background:rgba(255,255,255,0.1); padding:10px; border-radius:12px; border-left:3px solid var(--wrecked-green);">
                        ...</div>
                </div>

                <!-- 3. DATA GRID (Colored) -->
                <div class="bento-grid condensed" style="gap:10px;">
                    <!-- Row 1: City (Dark Gradient) & Age (Deep Green) -->
                    <div class="bento-box box-medium city-box"
                        style="background:linear-gradient(135deg, #2c3e50, #000) !important; border:none !important;">
                        <div style="display:flex; justify-content:space-between; width:100%;">
                            <h3 style="color:#aaa;">Ruh Åžehri</h3>
                            <i class="fas fa-city" style="color:#fff; font-size:0.8em; opacity:0.5;"></i>
                        </div>
                        <p id="final-stat-city" style="font-size:1.1em; margin-top:5px; color:#fff;">...</p>
                    </div>
                    <div class="bento-box box-medium era-box"
                        style="background:#1b4d3e !important; border:none !important;">
                        <div style="display:flex; justify-content:space-between; width:100%;">
                            <h3 style="color:#8f8;">Ruh YaÅŸÄ±n</h3>
                            <i class="fas fa-clock" style="color:#8f8; font-size:0.8em;"></i>
                        </div>
                        <p id="final-stat-era" style="font-size:1em; margin-top:5px; color:#fff; font-weight:700;">...
                        </p>
                    </div>

                    <!-- Row 2: Score (Black+Yellow) & Genre (Large Type) -->
                    <div class="bento-box box-medium score-box"
                        style="background:#000 !important; border:1px solid #333 !important;">
                        <div style="display:flex; justify-content:space-between; width:100%;">
                            <h3 style="color:#666;">Banal Skoru</h3>
                            <i class="fas fa-bolt" style="color:var(--wrecked-yellow); font-size:0.8em;"></i>
                        </div>
                        <div class="progress-bar" style="height:12px; margin:8px 0; background:rgba(255,255,255,0.1);">
                            <div id="final-stat-mainstream-bar"
                                style="width:0%; background:var(--wrecked-yellow); height:100%; border-radius:10px; box-shadow: 0 0 10px var(--wrecked-yellow);">
                            </div>
                        </div>
                        <p id="final-stat-mainstream-val"
                            style="position:absolute; bottom:8px; right:12px; font-size:0.8em; color:var(--wrecked-yellow);">
                            0%</p>
                    </div>
                    <div class="bento-box box-medium top-genre-box"
                        style="background:linear-gradient(45deg, #111, #222) !important;">
                        <h3 style="color:#888;">Favori TÃ¼r</h3>
                        <p id="final-stat-top-genre"
                            style="font-size:1.1em; margin-top:2px; color:#3498db; text-transform:uppercase; font-weight:900; letter-spacing:-0.5px;">
                            ...</p>
                    </div>

                    <!-- Row 3: Toxic (Red Gradient) -->
                    <div class="bento-box box-large trait-box"
                        style="text-align:left; padding:12px; background:linear-gradient(135deg, #c0392b, #8e44ad) !important; border:none !important;">
                        <div style="display:flex; justify-content:space-between; width:100%;">
                            <h3 style="color:#ffcccc;">Toksik Ã–zellik</h3>
                            <i class="fas fa-biohazard" style="color:#fff; font-size:0.9em;"></i>
                        </div>
                        <p id="final-stat-toxic"
                            style="color:#fff; font-size:1em; margin-top:5px; font-weight:700; text-shadow:0 1px 2px rgba(0,0,0,0.3);">
                            ...</p>
                    </div>

                    <!-- Row 4: Counts -->
                    <div class="bento-box box-small artist-box" style="background:#111 !important;">
                        <h3 style="font-size:0.6em; color:#555;">Artist</h3>
                        <p id="final-stat-artist-count" style="font-size:1.5em; color:#fff;">0</p>
                    </div>
                    <div class="bento-box box-small genre-box" style="background:#111 !important;">
                        <h3 style="font-size:0.6em; color:#555;">TÃ¼r</h3>
                        <p id="final-stat-genre-count" style="font-size:1.5em; color:#fff;">0</p>
                    </div>
                </div>

                <!-- RECS (Footer Box) -->
                <div class="final-recs-box"
                    style="display:flex; margin-top:10px; gap:0; background:rgba(255,255,255,0.03); border-radius:8px; border:1px solid rgba(255,255,255,0.05); overflow:hidden;">
                    <div style="flex:1; padding:10px; border-right:1px solid rgba(255,255,255,0.05);">
                        <div style="display:flex; align-items:center; gap:5px; margin-bottom:5px;">
                            <i class="fas fa-play-circle" style="color:var(--wrecked-green); font-size:0.8em;"></i>
                            <h4 style="color:#888; margin:0; font-size:0.7em;">Ä°zle</h4>
                        </div>
                        <div id="final-rec-mov" style="font-size:0.65em; line-height:1.4; color:#ddd;"></div>
                    </div>
                    <div style="flex:1; padding:10px;">
                        <div style="display:flex; align-items:center; gap:5px; margin-bottom:5px;">
                            <i class="fas fa-book" style="color:var(--wrecked-red); font-size:0.8em;"></i>
                            <h4 style="color:#888; margin:0; font-size:0.7em;">Oku</h4>
                        </div>
                        <div id="final-rec-book" style="font-size:0.65em; line-height:1.4; color:#ddd;"></div>
                    </div>
                </div>

                <div class="share-footer" style="margin-top:12px; font-size:0.6em; opacity:0.4;">
                    mustify-wrecked.vercel.app</div>
            </div>
        </div>

        <!-- SHARE ACTIONS -->
        <div class="share-actions-container" style="margin-top:20px; text-align:center;">
            <h3>Sonucunu PaylaÅŸ</h3>
            <div class="social-actions-row">
                <button class="icon-btn download-btn" onclick="downloadImage('generic')" title="Ä°ndir">
                    <i class="fas fa-download"></i>
                </button>
                <a href="#" onclick="shareSocial('facebook'); return false;" class="icon-btn fb-btn"><i
                        class="fab fa-facebook-f"></i></a>
                <a href="#" onclick="shareSocial('whatsapp'); return false;" class="icon-btn wa-btn"><i
                        class="fab fa-whatsapp"></i></a>
                <a href="#" onclick="shareSocial('tiktok'); return false;" class="icon-btn tt-btn"><i
                        class="fab fa-tiktok"></i></a>
                <a href="#" onclick="shareSocial('twitter'); return false;" class="icon-btn x-btn"><i
                        class="fa-brands fa-x-twitter"></i></a>
                <a href="#" onclick="shareSocial('instagram'); return false;" class="icon-btn ig-btn"><i
                        class="fab fa-instagram"></i></a>
            </div>
        </div>

        <div class="nav-row">
            <button class="btn-secondary" onclick="showScreen('screen-persona')">â¬…</button>
            <button id="btn-restart-final" class="btn-primary" style="background:#444; color:white;">BaÅŸa DÃ¶n â†º</button>
        </div>
    </div>

    <!-- SCREEN 7: PERSONA -->
    <div id="screen-persona" class="screen">
        <h2>ðŸ”® BÃ¼yÃ¼k YÃ¼zleÅŸme</h2>
        <div class="persona-card">
            <h3 id="persona-title" class="persona-title">...</h3>
            <div class="story-box">
                <p id="persona-desc" class="persona-text">...</p>
            </div>
            <div class="recommendations-box">
                <div class="rec-column">
                    <h4>ðŸŽ¬ Ä°zle</h4>
                    <ul id="rec-movies"></ul>
                </div>
                <div class="rec-column">
                    <h4>ðŸ“š Oku</h4>
                    <ul id="rec-books"></ul>
                </div>
            </div>
        </div>
        <div class="nav-row">
            <button class="btn-secondary" onclick="showScreen('screen-stats')">â¬…</button>
            <button id="btn-next-final" class="btn-nav pulse-btn">SonuÃ§ âž¡</button>
        </div>
    </div>

    <!-- AD SPACE BOTTOM REMOVED -->

    <script src="script.js?v=17"></script>
</body>

</html>